<!DOCTYPE HTML>
<!--
	Editorial by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>wide-dot</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<link rel="stylesheet" href="assets/css/custom.css" />
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
				<div id="main">
					<div class="inner">

						<!-- Header -->
							<header id="header">
								<a href="index.html" class="logo"><img src="images/name.png"></img></a>
								<ul class="icons">
																			<li><a href="https://youtube.com/@wide-dot" class="icon brands fa-youtube"><span class="label">Youtube</span></a></li>
									<li><a href="https://github.com/wide-dot" class="icon brands fa-github"><span class="label">Github</span></a></li>
								</ul>
							</header>

						<!-- Content -->
						<section>
							<div class="content">

								

							<header class="main">
								<h1>Tutorial 00 - Create a new game project</h1>
							</header>
							
							

							<div class="flex-container">
								<div class="flex-item-left">
									
									<p>This tutorial describes the low level game creation with the wide-dot Thomson TO8 game engine.</p>

<p>The generated binary will boot to a main program that will run an awesome infinite loop.</p>

<!--excerpt-->

<h1 id="prerequisites-">Prerequisites :</h1>
<ul>
  <li>Java, check version superior to 8</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>java <span class="nt">-version</span>
openjdk version <span class="s2">"11.0.11"</span> 2021-04-20
OpenJDK Runtime Environment AdoptOpenJDK-11.0.11+9 <span class="o">(</span>build 11.0.11+9<span class="o">)</span>
OpenJDK 64-Bit Server VM AdoptOpenJDK-11.0.11+9 <span class="o">(</span>build 11.0.11+9, mixed mode<span class="o">)</span>
</code></pre></div></div>
<ul>
  <li>Maven, check versin superior to 3.6.X</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mvn <span class="nt">-version</span>
Apache Maven 3.6.3 <span class="o">(</span>cecedd343002696d0abb50b32b541b8a6ba2883f<span class="o">)</span>
</code></pre></div></div>

<ul>
  <li>Clone this repository :</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git clone https://github.com/wide-dot/thomson-to8-game-engine.git
Clonage dans <span class="s1">'thomson-to8-game-engine'</span>...
remote: Enumerating objects: 2629, <span class="k">done</span><span class="nb">.</span>
remote: Counting objects: 100% <span class="o">(</span>2629/2629<span class="o">)</span>, <span class="k">done</span><span class="nb">.</span>
remote: Compressing objects: 100% <span class="o">(</span>1614/1614<span class="o">)</span>, <span class="k">done</span><span class="nb">.</span>
remote: Total 2629 <span class="o">(</span>delta 911<span class="o">)</span>, reused 2606 <span class="o">(</span>delta 889<span class="o">)</span>, pack-reused 0
Réception d<span class="s1">'objets: 100% (2629/2629), 11.62 MiB | 8.96 MiB/s, fait.
Résolution des deltas: 100% (911/911), fait.
</span></code></pre></div></div>

<h1 id="compiling-the-engine">Compiling the engine</h1>

<p>Before building your first Thomson TO8 project you will have to build the java generator. You will need to do this only once.
run this command in the <code class="language-plaintext highlighter-rouge">java-generator</code> directory.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>mvn clean compile assembly:single
<span class="o">[</span>INFO] Scanning <span class="k">for </span>projects...
<span class="o">[</span>INFO] 
<span class="o">[</span>INFO] <span class="nt">-------------------------</span>&lt; bento8:game-engine <span class="o">&gt;</span><span class="nt">-------------------------</span>
<span class="o">[</span>INFO] Building game-engine 0.0.1-SNAPSHOT
<span class="o">[</span>INFO] <span class="nt">--------------------------------</span><span class="o">[</span> jar <span class="o">]</span><span class="nt">---------------------------------</span>
<span class="o">[</span>INFO] 
<span class="o">[</span>INFO] <span class="nt">---</span> maven-clean-plugin:2.5:clean <span class="o">(</span>default-clean<span class="o">)</span> @ game-engine <span class="nt">---</span>
<span class="o">[</span>INFO] Deleting /home/robin/tmp/thomson-to8-game-engine/java-generator/target
<span class="o">[</span>INFO] 
<span class="o">[</span>INFO] <span class="nt">---</span> maven-resources-plugin:2.6:resources <span class="o">(</span>default-resources<span class="o">)</span> @ game-engine <span class="nt">---</span>
<span class="o">[</span>WARNING] Using platform encoding <span class="o">(</span>UTF-8 actually<span class="o">)</span> to copy filtered resources, i.e. build is platform dependent!
<span class="o">[</span>INFO] Copying 1 resource
<span class="o">[</span>INFO] 
<span class="o">[</span>INFO] <span class="nt">---</span> maven-compiler-plugin:3.8.1:compile <span class="o">(</span>default-compile<span class="o">)</span> @ game-engine <span class="nt">---</span>
<span class="o">[</span>INFO] Changes detected - recompiling the module!
<span class="o">[</span>WARNING] File encoding has not been <span class="nb">set</span>, using platform encoding UTF-8, i.e. build is platform dependent!
<span class="o">[</span>INFO] Compiling 139 <span class="nb">source </span>files to /home/robin/tmp/thomson-to8-game-engine/java-generator/target/classes
<span class="o">[</span>INFO] /home/robin/tmp/thomson-to8-game-engine/java-generator/src/main/java/fr/bento8/to8/build/BuildDisk.java: Some input files use unchecked or unsafe operations.
<span class="o">[</span>INFO] /home/robin/tmp/thomson-to8-game-engine/java-generator/src/main/java/fr/bento8/to8/build/BuildDisk.java: Recompile with <span class="nt">-Xlint</span>:unchecked <span class="k">for </span>details.
<span class="o">[</span>INFO] 
<span class="o">[</span>INFO] <span class="nt">---</span> maven-assembly-plugin:2.2-beta-5:single <span class="o">(</span>default-cli<span class="o">)</span> @ game-engine <span class="nt">---</span>
<span class="o">[</span>INFO] META-INF/MANIFEST.MF already added, skipping
<span class="o">[</span>INFO] META-INF/ already added, skipping
<span class="o">[</span>INFO] org/ already added, skipping
<span class="o">[</span>INFO] org/apache/ already added, skipping
<span class="o">[</span>INFO] org/apache/logging/ already added, skipping
<span class="o">[</span>INFO] org/apache/logging/log4j/ already added, skipping
<span class="o">[</span>INFO] META-INF/versions/ already added, skipping
<span class="o">[</span>INFO] META-INF/versions/9/ already added, skipping
<span class="o">[</span>INFO] META-INF/versions/9/org/ already added, skipping
<span class="o">[</span>INFO] META-INF/versions/9/org/apache/ already added, skipping
<span class="o">[</span>INFO] META-INF/versions/9/org/apache/logging/ already added, skipping
<span class="o">[</span>INFO] META-INF/versions/9/org/apache/logging/log4j/ already added, skipping
<span class="o">[</span>INFO] META-INF/services/ already added, skipping
<span class="o">[</span>INFO] META-INF/maven/ already added, skipping
<span class="o">[</span>INFO] META-INF/maven/org.apache.logging.log4j/ already added, skipping
<span class="o">[</span>INFO] META-INF/LICENSE already added, skipping
<span class="o">[</span>INFO] META-INF/DEPENDENCIES already added, skipping
<span class="o">[</span>INFO] META-INF/NOTICE already added, skipping
<span class="o">[</span>INFO] Building jar: /home/robin/tmp/thomson-to8-game-engine/java-generator/target/game-engine-0.0.1-SNAPSHOT-jar-with-dependencies.jar
<span class="o">[</span>INFO] META-INF/MANIFEST.MF already added, skipping
<span class="o">[</span>INFO] META-INF/ already added, skipping
<span class="o">[</span>INFO] org/ already added, skipping
<span class="o">[</span>INFO] org/apache/ already added, skipping
<span class="o">[</span>INFO] org/apache/logging/ already added, skipping
<span class="o">[</span>INFO] org/apache/logging/log4j/ already added, skipping
<span class="o">[</span>INFO] META-INF/versions/ already added, skipping
<span class="o">[</span>INFO] META-INF/versions/9/ already added, skipping
<span class="o">[</span>INFO] META-INF/versions/9/org/ already added, skipping
<span class="o">[</span>INFO] META-INF/versions/9/org/apache/ already added, skipping
<span class="o">[</span>INFO] META-INF/versions/9/org/apache/logging/ already added, skipping
<span class="o">[</span>INFO] META-INF/versions/9/org/apache/logging/log4j/ already added, skipping
<span class="o">[</span>INFO] META-INF/services/ already added, skipping
<span class="o">[</span>INFO] META-INF/maven/ already added, skipping
<span class="o">[</span>INFO] META-INF/maven/org.apache.logging.log4j/ already added, skipping
<span class="o">[</span>INFO] META-INF/LICENSE already added, skipping
<span class="o">[</span>INFO] META-INF/DEPENDENCIES already added, skipping
<span class="o">[</span>INFO] META-INF/NOTICE already added, skipping
<span class="o">[</span>INFO] <span class="nt">------------------------------------------------------------------------</span>
<span class="o">[</span>INFO] BUILD SUCCESS
<span class="o">[</span>INFO] <span class="nt">------------------------------------------------------------------------</span>
<span class="o">[</span>INFO] Total <span class="nb">time</span>:  5.379 s
<span class="o">[</span>INFO] Finished at: 2022-01-04T11:12:21+01:00
<span class="o">[</span>INFO] <span class="nt">------------------------------------------------------------------------</span>
</code></pre></div></div>

<h1 id="file-structure">File Structure</h1>

<p>Enter the <code class="language-plaintext highlighter-rouge">game-projects</code> directory and create a directory named : <code class="language-plaintext highlighter-rouge">tutorial-00-project</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd </span>game-projects
<span class="nv">$ </span><span class="nb">mkdir </span>tutorial-00-project
</code></pre></div></div>

<p>On linux, create a new file <code class="language-plaintext highlighter-rouge">config-linux.properties</code> in this newly created folder, with this content :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># ******************************************************************************
# BuildDisk - Configuration file
# ------------------------------------------------------------------------------
#
# ******************************************************************************

# Engine ASM source code
# ******************************************************************************

# Engine loader
engine.asm.boot.fd=../../Engine/Boot/BootFd.asm
engine.asm.RAMLoaderManager.fd=../../Engine/Ram/RAMLoaderManagerFd.asm
engine.asm.RAMLoader.fd=../../Engine/Ram/RAMLoaderFd.asm

engine.asm.boot.t2=../../Engine/Boot/BootT2.asm
engine.asm.RAMLoaderManager.t2=../../Engine/Ram/RAMLoaderManagerT2.asm
engine.asm.RAMLoader.t2=../../Engine/Ram/RAMLoaderT2.asm

# T2 Loader for SDDRIVE
engine.asm.boot.t2Loader=../../Engine/Boot/BootT2Loader.asm
engine.asm.t2Loader=../../Engine/T2/T2Loader.asm

# Game definition
# ******************************************************************************

gameModeBoot=infiniteloop
gameMode.infiniteloop=./game-mode/infinite-loop/infinite-loop.properties

# Build parameters
# ******************************************************************************
#
# Compilated image converter
# --------------------------
#
# builder.compilatedsprite.useCache:
#    param: N: No cache, Y: use already generated asm, bin and lst files
#
# builder.compilatedsprite.maxTries
#    param: number of maximum random tries for generated code optimization
#           (default value 500000)
#
# ------------------------------------------------------------------------------
builder.lwasm=../../tools/linux/lwasm
builder.lwasm.pragma=undefextern
builder.lwasm.includeDirs=../..
builder.exobin=../../tools/linux/exomizer
builder.debug=Y
builder.logToConsole=Y
builder.diskName=./dist/empty-project
builder.generatedCode=./generated-code
builder.constAnim=./Engine/Graphics/ConstantsAnimation.asm
builder.to8.memoryExtension=Y
builder.compilatedSprite.useCache=Y
builder.compilatedSprite.maxTries=500000
</code></pre></div></div>

<p>This configuration file will be used by the java builder to produce your Thomson TO8 binaries. These binaries will be produced with the template name defined by the builder.diskName property value.</p>

<p>The builder will generate a TO8 program that will be able to boot from a 3½ Disk or from a Megarom T.2. The program itself will be able to load different sub programs from Disk/Cardtridge to RAM. The sub programs are called <em>game modes</em>.</p>

<p>All games modes have their own property file referenced in the builder main config property file. This is described in the next section</p>

<p>«TO BE CONTINUED»</p>

								</div>	
								<div class="flex-item-right">

									

											

										

											

											
								</div>	
					        
							</div>

							
										
						</section>
					</div>
				</div>

				<!-- Sidebar -->
					<div id="sidebar">
						<div class="inner">

							<!-- Menu -->
								<nav id="menu">
									<header class="major">
										<h2>Menu</h2>
									</header>
									<ul>
										<li><a href="index.html">Accueil</a></li>
										<li>
											<span class="opener">Démos de jeu</span>
											<ul>
												<li><a href="sonic2.html">Sonic the Hedgehog 2</a></li>
												<li><a href="alttp.html">Un lien vers le passé</a></li>
												<li><a href="cacao.html">Cacao and coffee shop</a></li>
												<li><a href="dott.html">Day of the Tentacle</a></li>
												<li><a href="rick.html">Rick Dangerous</a></li>
												<li><a href="savage.html">Savage</a></li>
												<li><a href="goldorak.html">Goldorak</a></li>
											</ul>
										</li>
									</ul>
								</nav>

							<!-- Section -->
								<section>
									<header class="major">
										<h2>Contact</h2>
									</header>
									<p>wide-dot réalise des logiciels pour processeur Motorola 6809.</p>
                                                                        L'équipe est composée de :
                                                                        <ul>
                                                                                <li>adnz</li>
                                                                                <li>bentoc</li>
                                                                                <li>fxrobin</li>
                                                                                <li>__sam__</li>
																				<li>yoanrhk</li>

                                                                        </ul>
                                                                        <br>
									<ul class="contact">
										<li class="icon solid fa-envelope"><a href="#">contact@wide-dot.com</a></li>
										<li class="icon solid fa-home">France<br /></li>
									</ul>
								</section>

							<!-- Footer -->
								<footer id="footer">
									<p class="copyright">&copy; wide-dot. All rights reserved. Design: <a href="https://html5up.net">HTML5 UP</a>.</p>
								</footer>

						</div>
                                        </div>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
	</body>
</html>
